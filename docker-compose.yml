services:
  backend: 
   image: desdecerobackend:0.1
   build:
    context: ./config/django-image
   volumes:
   - ./src/django:/usr/app:delegated
   enviroment:
    DB_HOST: postgres
    POSTGRES_USER:  ${POSTGRES_USER}
    POSTGRES_DB:  ${POSTGRES_DB}
    POSTGRES_PASSWORD:  ${POSTGRES_PASSWORD}
   ports:
   - 8000:8000
   networks:
    red:
  postgres:
    image: postgres:16-bullseye
    environment:
     DB_HOST: postgres
     POSTGRES_USER:  ${POSTGRES_USER}
     POSTGRES_DB:  ${POSTGRES_DB}
     POSTGRES_PASSWORD:  ${POSTGRES_PASSWORD}
    volumes:
    - ./data:/var/lib/postgresqL/data:delegated
    ports:
     - ${DB_PORT}:5432

networks:
  red:


